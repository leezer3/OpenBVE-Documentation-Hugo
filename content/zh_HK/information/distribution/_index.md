---
title: "發佈OpenBVE的附加檔"
linktitle: "發佈附加檔"
weight: 7
---

無論您是編寫路線,列車或插件,在發佈附加檔之前都應注意一些事項。由於OpenBVE是一個跨平台的列車模擬器,旨在實現國際互操作性,您的附加檔也應如此。

## 文字文件和編碼

無論您要包含任何文字檔案,包括README檔案,應確保在世界各地也能正確處理該檔案。 OpenBVE分析所有文字檔案的默認編碼為UTF-8。 對於路線和有關的物件,你可以可以使用其他編碼,但是用戶必須從列表中選擇特定的編碼。 同樣的情況適用於列車和相關檔案。 如果需要使用UTF-8以外的任何其他格式編碼文本文件,則必須告知用戶您的編碼,否則,該用戶可能會最終得到亂碼和可能錯誤地解析的檔案。 UTF-8是首選,而使用傳統編碼則可以接受,但不建議使用。 請注意,路線或列車中的所有文件都必須使用相同的編碼,因為用戶目前無法選擇每個文件的編碼。

可接受和不可接受的做法:

{{% table-nonheader %}}

| <font color="Green">✓</font> | 儲存你的文件為UTF-8。                               |
| ---------------------------- | ------------------------------------------------------------ |
| <font color="Green">✓</font> | 以任何Unicode編碼儲存文字檔案 |
| <font color="Red">✗</font>   | 不使用Unicode編碼儲存文字檔案            |
| <font color="Red">✗</font>   | 在路線或列車中的每個文件使用不同編碼。   |

{{% /table-nonheader %}}

## 壓縮檔案 vs 安裝程式

除非因下載大小而需要拆分歸檔文件,打包路線或列車時,請考慮使用一個壓縮檔案,而非多個較小的壓縮檔案。切勿使用不能跨平台的安裝程式,因為它們不可便携 ( Portable )(除非您同時提供壓縮檔案作為替代方法)。特定於平台的安裝程序包括Windows EXE檔案,Linux RPM存儲庫和Mac DMG檔案。

可接受和不可接受的做法:

{{% table-nonheader %}}

| <font color="Green">✓</font> | 使用壓縮檔案,例如7Z,ZIP,TAR.GZ 等。         |
| ---------------------------- | ----------------------------------------------------------- |
| <font color="Red">✗</font>   | 使用非跨平台的格式, 例如 EXE, RPM, DMG 等。 |

{{% /table-nonheader %}}

## ■ 文件名和壓縮檔案

通常,您可以使用任何的檔案名稱,即包括任何字符,例如拉丁文,日文,中文等。但是,您需要確保所使用的壓縮檔格式支持Unicode檔案名稱。否則,用戶可能無法正確解壓您的文件而導致之後無法找到一系列的檔案。流行的ZIP格式不支持Unicode檔案名稱,但例如[7Z](https://www.7-zip.org/)則支持。又或者,限制自己只使用ASCII字符,例如A-Z,a-z,0-9。

可接受和不可接受的做法:

{{% table-nonheader %}}

| <font color="Green">✓</font> | 使用支持Unicode檔案名的壓縮檔格式(例如7Z) |
| ---------------------------- | ------------------------------------------------------------ |
| <font color="Green">✓</font> | 使用不支持Unicode檔案名的壓縮檔格式和限制自己只使用ASCII字符。 |
| <font color="Red">✗</font>   | 使用不支持Unicode檔案名的壓縮檔格式但使用Unicode檔案名。 |

{{% /table-nonheader %}}

## ■ 壓縮檔案和文件夾結構

發佈路線或列車時,應包含完整的文件夾結構,即 **Railway** 和 **Train** 。這將使用戶最容易理解他們需要將內容放到的那裡。不要僅包含子目錄,例如 *YourNameHere*,而該子目錄是應該被放進Railway\Sound文件夾中。通常只有更有經驗的用戶才能通過檢查文件或其檔案格式來確定將這些內容放在那裡。

可接受和不可接受的做法:

{{% table-nonheader %}}

| <font color="Green">✓</font> | 包括兩個基礎文件夾 **Railway** 或 **Train**,最好包括兩者。 |
| ---------------------------- | ------------------------------------------------------------ |
| <font color="Red">✗</font>   | 只包含一些子目錄或文件,並認為用戶知道如何安裝。 |

{{% /table-nonheader %}}

## ■ 錯誤和警告

您的路線應該沒有錯誤信息。請注意,OpenBVE 區分錯誤和警告。錯誤是您的編碼中肯定存在錯誤,應立即修復。警告是鼓勵檢查潛在句法錯誤 或 可能不是其編寫方式的代碼。為檢查您的路線和列車是否有錯誤和警告,請到OpenBVE中的“選項”菜單並在右下角啟用它們。 RouteViewer和ObjectViewer 總會報告此類信息。請注意,各種工具和OpenBVE本身可能報告不同的錯誤信息,因為它們不共享所有相同的功能。發佈含有錯誤的附加檔可能會令用戶認為某些東西下載不完整。應該避免此類情況。

可接受和不可接受的做法:

{{% table-nonheader %}}

| <font color="Green">✓</font> | 在 *選項* 菜單中右下角啟用錯誤和警告報告,並檢查您的附加檔。 |
| ---------------------------- | ------------------------------------------------------------ |
| <font color="Green">✓</font> | 發佈沒有錯誤(不一定是警告)的附加檔。 |
| <font color="Red">✗</font>   | 切勿透過禁用錯誤報告或忽略錯誤信息來檢查附加檔是否有錯誤。 |
| <font color="Red">✗</font>   | 發佈含有錯誤的附加檔。                   |

{{% /table-nonheader %}}

## 專為列車插件而設計的路線和列車

如果您在列車中包含插件,它們僅應該為.NET。 保留Win32插件純粹只是向後兼容性,不應再存在在新作品。 如果暫時無法刪除對Win32插件,至少要設計到路線和列車能與默認安全系統配合。 您可以透過刪除ats.cfg檔案(或臨時命名插件)來測試沒有插件下 列車的行為。

## ■ 操作手冊

對您的路線上的標誌和信號以及如何操作列車進行概述。 否則,可能不熟悉某些區域的用戶只能猜測符號的含義,或者不得不猜測哪個鍵可以能做什麼。 如果可以,請提供該說明的英語版本,這通常會增加能夠理解該說明的人數。
